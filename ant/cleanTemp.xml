<?xml version="1.0" encoding="UTF-8"?>

<project name="CleanData" default="cleantemp" basedir="E:\Yashwanth">
	<!-- https://stackoverflow.com/questions/18926846/how-to-get-the-user-temp-directory-in-ant -->
	<!-- C:\Users\yashwanth.m\AppData\Local\Temp -->
	<property environment="env"/>
	<target name="showtemp">
		<echo message="java.io.tmpdir = java.io.tmpdir}"/>
		<echo message="windows tmpdir = ${env.TMP}"/>
		<echo message="windows JAVA_HOME = ${env.JAVA_HOME}"/>
		<echo message="windows ANT_HOME = ${env.ANT_HOME}"/>
	</target>
	
	<!-- https://ant.apache.org/manual/Tasks/delete.html -->
	<target name="cleantemp" description="Clean temporary files" depends="showtemp">
		<!-- http://ant-contrib.sourceforge.net/ -->
		<!-- http://ant-contrib.sourceforge.net/tasks/tasks/trycatch.html -->
		<!-- ant-contrib-0.3-bin.zip (ant-contrib-0.3.jar) Ë https://sourceforge.net/projects/ant-contrib/files/ant-contrib/ -->
		<trycatch>
		<try>
			<delete includeemptydirs="true"  verbose="true">
				<fileset dir="${env.TMP}" includes="**/*" defaultexcludes="false"/>
			</delete>
		</try>
		<catch>
			<echo>In &lt;catch&gt;.</echo>
		</catch>
		<finally>
			<echo>In &lt;finally&gt;.</echo>
		</finally>
		</trycatch>
		
	</target>
	
	<target name="cleanBaseDirtemp" description="Clean Base Dir temporary files">
		<delete includeemptydirs="true">
			<!-- E:\Yashwanth\temp -->
			<fileset dir="./temp">
				<!--
				<include name="**/*.txt"/>
				<include name="**/*.log"/>
				-->
				<exclude name="**/*.txt" />
			</fileset>
		</delete>
	</target>

</project>